# encoding: utf-8
- parsed_json = ActiveSupport::JSON.decode(@json_data)
!!! XML
%html{:xmlns => "http://www.w3.org/1999/xhtml", "xml:lang" => "en", :lang => "en"}
  %head
    %title fionamcdermott.com

   
    = stylesheet_link_tag "http://fonts.googleapis.com/css?family=Lato"

   
    = stylesheet_link_tag "application", :media => "all"
    = javascript_include_tag "application"
    = csrf_meta_tags

    :javascript
      $(document).ready(function(){


        var newData = #{@json_data}
        controller = new com.ee.MainPageController(newData.projects, newData.slideshow_interval, newData.default_bg_color, newData.left_arrow, newData.right_arrow)
      })


%body
  .bar-holder
    .left-bar
      .logo
        %a{ :href => "javascript:void(0)", :id => "_home_link"}
          %img{ :src => "#{parsed_json['logo']}", :id => "_logo"} 
      .bar-contents
        .h5.title projects 
        = render :partial => "line_break"

        %ul{ :class => "project-menu"}
        %br/
        %br/
        %a{ :href => "javascript:void(0)", :id => "_information_link"}
          = "INFORMATION"
        %br/
        %br/
        %a{ :href => "javascript:void(0)", :id => "_contact_link"}
          = "CONTACT"
    .right-bar
      .bar-contents
        #project-view-title.title
        = render :partial => "line_break"
        #project-view-description
        = render :partial => "line_break"
        #project-view-navigation-holder

  .work-holder
    #project-view-images
    .content-holder{ :id => "_information_content" }
      = render "information"
    .content-holder{ :id => "_contact_content" }
      = render "contact"
